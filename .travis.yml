dist: trusty
sudo: false
cache:
  directories:
      - $HOME/downloads
addons:
  apt:
    packages:
    - yasm
    - nasm

language: java
services:
      - docker

jobs:
   include:
      - jdk: oraclejdk8
        stage: cache
        os: linux
        install: true
        script: ./ci/install-deps.sh

      - jdk: oraclejdk8
        stage: build 
        os: linux
        env: PROJ=opencv,chilitags,flandmark,openblas,mxnet,hdf5,caffe OS=linux-ppc64le
        install: true
        script: ./ci/install-ppc.sh
      - jdk: oraclejdk8
        stage: build 
        os: linux
        env: PROJ=ffmpeg OS=linux-ppc64le
        install: true
        script: ./ci/install-ppc.sh
      - jdk: oraclejdk8
        stage: build 
        os: linux
        env: PROJ=flycapture OS=linux-ppc64le
        install: true
        script: ./ci/install-ppc.sh
      - jdk: oraclejdk8
        stage: build 
        os: linux
        env: PROJ=libdc1394 OS=linux-ppc64le
        install: true
        script: ./ci/install-ppc.sh
      - jdk: oraclejdk8
        stage: build 
        os: linux
        env: PROJ=libfreenect OS=linux-ppc64le
        install: true
        script: ./ci/install-ppc.sh
      - jdk: oraclejdk8
        stage: build 
        os: linux
        env: PROJ=libfreenect2 OS=linux-ppc64le
        install: true
        script: ./ci/install-ppc.sh
      - jdk: oraclejdk8
        stage: build 
        os: linux
        env: PROJ=librealsense OS=linux-ppc64le
        install: true
        script: ./ci/install-ppc.sh
      - jdk: oraclejdk8
        stage: build 
        os: linux
        env: PROJ=videoinput OS=linux-ppc64le
        install: true
        script: ./ci/install-ppc.sh
      - jdk: oraclejdk8
        stage: build 
        os: linux
        env: PROJ=artoolkitplus OS=linux-ppc64le
        install: true
        script: ./ci/install-ppc.sh
      - jdk: oraclejdk8
        stage: build 
        os: linux
        env: PROJ=mkl OS=linux-ppc64le
        install: true
        script: ./ci/install-ppc.sh
      - jdk: oraclejdk8
        stage: build 
        os: linux
        env: PROJ=fftw OS=linux-ppc64le
        install: true
        script: ./ci/install-ppc.sh
      - jdk: oraclejdk8
        stage: build 
        os: linux
        env: PROJ=gsl OS=linux-ppc64le
        install: true
        script: ./ci/install-ppc.sh
      - jdk: oraclejdk8
        stage: build 
        os: linux
        env: PROJ=llvm OS=linux-ppc64le
        install: true
        script: ./ci/install-ppc.sh
      - jdk: oraclejdk8
        stage: build 
        os: linux
        env: PROJ=leptonica,tesseract OS=linux-ppc64le
        install: true
        script: ./ci/install-ppc.sh
      - jdk: oraclejdk8
        stage: build 
        os: linux
        env: PROJ=cuda OS=linux-ppc64le
        install: true
        script: ./ci/install-ppc.sh
      - jdk: oraclejdk8
        stage: build 
        os: linux
        env: PROJ=tensorflow OS=linux-ppc64le
        install: true
        script: ./ci/install-ppc.sh
      - jdk: oraclejdk8
        stage: build 
        os: linux
        env: PROJ=liquidfun OS=linux-ppc64le
        install: true
        script: ./ci/install-ppc.sh

