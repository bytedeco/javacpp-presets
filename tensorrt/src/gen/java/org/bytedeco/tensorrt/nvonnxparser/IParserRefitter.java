// Targeted by JavaCPP version 1.5.13-SNAPSHOT: DO NOT EDIT THIS FILE

package org.bytedeco.tensorrt.nvonnxparser;

import java.nio.*;
import org.bytedeco.javacpp.*;
import org.bytedeco.javacpp.annotation.*;

import static org.bytedeco.javacpp.presets.javacpp.*;
import org.bytedeco.cuda.cudart.*;
import static org.bytedeco.cuda.global.cudart.*;
import org.bytedeco.cuda.cublas.*;
import static org.bytedeco.cuda.global.cublas.*;
import org.bytedeco.cuda.cudnn.*;
import static org.bytedeco.cuda.global.cudnn.*;
import org.bytedeco.cuda.nvrtc.*;
import static org.bytedeco.cuda.global.nvrtc.*;
import org.bytedeco.tensorrt.nvinfer.*;
import static org.bytedeco.tensorrt.global.nvinfer.*;
import org.bytedeco.tensorrt.nvinfer_plugin.*;
import static org.bytedeco.tensorrt.global.nvinfer_plugin.*;

import static org.bytedeco.tensorrt.global.nvonnxparser.*;


/**
 *  \class IParserRefitter
 * 
 *  \brief An interface designed to refit weights from an ONNX model.
 * 
 *  \warning Do not inherit from this class, as doing so will break forward-compatibility of the API and ABI.
 *  */
@Namespace("nvonnxparser") @Properties(inherit = org.bytedeco.tensorrt.presets.nvonnxparser.class)
public class IParserRefitter extends Pointer {
    static { Loader.load(); }
    /** Pointer cast constructor. Invokes {@link Pointer#Pointer(Pointer)}. */
    public IParserRefitter(Pointer p) { super(p); }

    /**
     *  \brief Load a serialized ONNX model from memory and perform weight refit.
     * 
     *  @param serializedOnnxModel Pointer to the serialized ONNX model
     *  @param serializedOnnxModelSize Size of the serialized ONNX model
     *         in bytes
     *  @param modelPath Absolute path to the model file for loading external weights if required
     *  @return true if all the weights in the engine were refit successfully.
     * 
     *  The serialized ONNX model must be identical to the one used to generate the engine
     *  that will be refit.
     *  */
    
    
    //!
    //!
    //!
    //!
    //!
    public native @Cast("bool") @NoException(true) boolean refitFromBytes(
            @Const Pointer serializedOnnxModel, @Cast("size_t") long serializedOnnxModelSize, String modelPath/*=nullptr*/);
    public native @Cast("bool") @NoException(true) boolean refitFromBytes(
            @Const Pointer serializedOnnxModel, @Cast("size_t") long serializedOnnxModelSize);
    public native @Cast("bool") @NoException(true) boolean refitFromBytes(
            @Const Pointer serializedOnnxModel, @Cast("size_t") long serializedOnnxModelSize, @Cast("const char*") BytePointer modelPath/*=nullptr*/);

    /**
     *  \brief Load and parse a ONNX model from disk and perform weight refit.
     * 
     *  @param onnxModelFile Path to the ONNX model to load from disk.
     * 
     *  @return true if the model was loaded successfully, and if all the weights in the engine were refit successfully.
     * 
     *  The provided ONNX model must be identical to the one used to generate the engine
     *  that will be refit.
     *  */
    
    
    //!
    //!
    //!
    public native @Cast("bool") @NoException(true) boolean refitFromFile(String onnxModelFile);
    public native @Cast("bool") @NoException(true) boolean refitFromFile(@Cast("const char*") BytePointer onnxModelFile);

    /**
     * \brief Get the number of errors that occurred during prior calls to \p refitFromBytes or \p refitFromFile
     * 
     *  @see getError() IParserError
     *  */
    
    
    //!
    //!
    //!
    public native @NoException(true) int getNbErrors();

    /**
     * \brief Get an error that occurred during prior calls to \p refitFromBytes or \p refitFromFile
     * 
     *  @see getNbErrors() IParserError
     *  */
    
    
    //!
    //!
    //!
    public native @Const @NoException(true) IParserError getError(int index);

    /**
     * \brief Clear errors from prior calls to \p refitFromBytes or \p refitFromFile
     * 
     *  @see getNbErrors() getError() IParserError
     *  */
    public native void clearErrors();

    /**
     *  \brief Load a serialized ONNX model into the parser. Unlike the refit(), or refitFromFile()
     *  functions, this function does not immediately begin the refit process. Using this function
     *  allows users to provide their own initializers for the ONNX model through the loadInitializer() function.
     * 
     *  Only one model can be loaded at a time. Subsequent calls to loadModelProto() will result in an error.
     * 
     *  To begin the refit process, use refitModelProto().
     * 
     *  @param serializedOnnxModel Pointer to the serialized ONNX model. Can be freed after this function returns.
     *  @param serializedOnnxModelSize Size of the serialized ONNX model in bytes.
     *  @param modelPath Absolute path to the model file for loading external weights if required.
     *  @return true if the model was loaded successfully
     *  @see getNbErrors() getError()
     *  */
    
    
    //!
    //!
    //!
    //!
    //!
    //!
    //!
    public native @Cast("bool") @NoException(true) boolean loadModelProto(
            @Const Pointer serializedOnnxModel, @Cast("size_t") long serializedOnnxModelSize, String modelPath/*=nullptr*/);
    public native @Cast("bool") @NoException(true) boolean loadModelProto(
            @Const Pointer serializedOnnxModel, @Cast("size_t") long serializedOnnxModelSize);
    public native @Cast("bool") @NoException(true) boolean loadModelProto(
            @Const Pointer serializedOnnxModel, @Cast("size_t") long serializedOnnxModelSize, @Cast("const char*") BytePointer modelPath/*=nullptr*/);

    /**
     *  \brief Prompt the ONNX refitter to load an initializer with user-provided binary data.
     *  The lifetime of the data must exceed the lifetime of the refitter.
     * 
     *  All user-provided initializers must be provided prior to calling refitModelProto().
     * 
     *  This function can be called multiple times to specify the names of multiple initializers.
     * 
     *  Calling this function with an initializer previously specified will overwrite the previous instance.
     * 
     *  This function will return false if initializer validation fails. Possible validation errors are:
     *  * This function was called prior to loadModelProto()
     *  * The requested initializer was not found in the model.
     *  * The size of the data provided is different from the corresponding initializer in the model.
     * 
     *  @param name Name of the initializer.
     *  @param data Binary data containing the values of the initializer.
     *  @param size Size of the initializer in bytes.
     *  @return true if the initializer was loaded successfully
     *  @see loadModelProto()
     *  */
    
    //!
    //!
    public native @Cast("bool") @NoException(true) boolean loadInitializer(String name, @Const Pointer data, @Cast("size_t") long size);
    public native @Cast("bool") @NoException(true) boolean loadInitializer(@Cast("const char*") BytePointer name, @Const Pointer data, @Cast("size_t") long size);

    /** \brief Begin the refit process from the loaded ONNX model.
     * 
     *  @return true if refit was successful
     *  @see getNbErrors() getError() loadModelProto()
     *  */
    public native @Cast("bool") @NoException(true) boolean refitModelProto();
}
